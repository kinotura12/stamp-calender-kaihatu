<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sticker Calendar 2026</title>
    <link rel="stylesheet" href="./css/style.css">

</head>

<body>
<header>
  <div class="wrap">
    <div class="titleRow">
      <div style="min-width:0;">
        <div class="monthNav">
          <button class="navBtn" id="prevMonth" type="button" aria-label="前の月">＜</button>
          <div style="min-width:0;">
            <h1 id="headerTitle">2026年1月</h1>
            <div class="sub" id="headerSub">丸タップでスタンプ / 日付タップで日記</div>
          </div>
          <button class="navBtn" id="nextMonth" type="button" aria-label="次の月">＞</button>
        </div>
      </div>

      <div class="rightBar">
        <button class="iconBtn" id="openThemePicker" type="button" aria-label="デザインテーマ">
          🎨
        </button>
        <button class="hamburger" id="hamburger" type="button" aria-label="メニュー">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="dow" id="dowRow">
    <div>日</div><div>月</div><div>火</div><div>水</div><div>木</div><div>金</div><div>土</div>
  </div>

  <section class="grid calendarPanel" id="calendarPanel" aria-label="カレンダー">
    <div class="days" id="days"></div>
  </section>

  <!-- 日記 + カスタマイズ（スライド） -->
  <div class="diaryWrap" id="diaryWrap" style="display:none;">
    <div class="slider" id="slider">
      <!-- Diary Panel -->
      <section class="panel" id="diaryPanel">
        <div class="diaryHead">
          <div class="diaryHeadLeft">
            <div class="diaryStamp" id="diaryStamp" aria-label="その日のスタンプ（クリックで変更）"></div>
            <div>
              <div class="diaryLabel">日記</div>
              <div class="diaryDate" id="diaryDate">----</div>
            </div>
          </div>

          <div class="headBtns">
            <!-- 設定（歯車） -->
            <button class="iconBtn" id="openCustomize" type="button" aria-label="ブロック設定">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="1.8"/>
                <path d="M19.4 13.5a7.9 7.9 0 0 0 0-3l1.4-1.1-1.9-3.3-1.7.7a8.3 8.3 0 0 0-2.6-1.5L14.3 3h-4.6l-.3 2.3a8.3 8.3 0 0 0-2.6 1.5l-1.7-.7-1.9 3.3 1.4 1.1a7.9 7.9 0 0 0 0 3L3.2 14.6l1.9 3.3 1.7-.7a8.3 8.3 0 0 0 2.6 1.5l.3 2.3h4.6l.3-2.3a8.3 8.3 0 0 0 2.6-1.5l1.7.7 1.9-3.3-1.4-1.1Z"
                      stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
              </svg>
            </button>

            <!-- 削除（ゴミ箱） -->
            <button class="iconBtn" id="deleteDay" type="button" aria-label="この日を削除">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M9 3h6m-8 4h10m-9 0 1 16h6l1-16M10 7v12m4-12v12"
                      stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="inlineConfirm" id="inlineConfirm">
          <div class="inlineConfirmMsg" id="inlineConfirmMsg">この日のデータを削除しますか？</div>
          <div class="inlineConfirmBtns">
            <button class="btn" id="inlineNo" type="button">いいえ</button>
            <button class="btn danger" id="inlineYes" type="button">はい</button>
          </div>
        </div>

        <!-- ブロック描画先 -->
        <div id="diaryBlocks"></div>

        <div class="hint">日付切替で内容が切り替わる。</div>
      </section>

      <!-- Customize Panel -->
      <section class="panel" id="customPanel">
        <div class="customHead">
          <div style="min-width:0;">
            <div class="customTitle">ブロック設定</div>
            <div class="customSub">表示／並び順／名前だけ先に対応。<br>（追加・削除・…メニューは骨格が安定してから入れる）</div>
          </div>
          <button class="iconBtn" id="closeCustomize" type="button" aria-label="戻る">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        <div class="blockList" id="blockList"></div>

        <div class="customFooter">
          <button class="ghostBtn" id="cancelCustomize" type="button">キャンセル</button>
          <button class="btn" id="saveCustomize" type="button">変更を保存</button>
        </div>

        <div class="hint">※「今日の気分は？」は先頭固定。<br>※「今日の目標」は2番目固定。</div>
      </section>
    </div>
  </div>

  <!-- 日記一覧 -->
  <section class="list" id="list">
    <div class="listHead">
      <div class="listTitle">日記一覧（1日〜月末）</div>
      <div class="badge" id="listBadge"></div>
    </div>
    <div id="listBody"></div>
  </section>

  <!-- データ管理 -->
  <section class="data" id="data">
    <div class="majorTitle">▼ユーザーデータ</div>

    <div class="kvRow">
      <div class="kvLeft">
        <div class="kvLabel">2026年記録日数</div>
        <div class="kvValueBig" id="yearTotal">0日</div>
      </div>
      <button class="toggleBtn" id="toggleBreakdown" type="button">▼詳細表示</button>
    </div>

    <div class="monthBreakdown" id="monthBreakdown"></div>

    <div class="divider"></div>

    <div class="majorTitle">▼データ管理</div>

    <div class="row">
      <div class="rowLabel">選択期間内のデータ一括書き出し</div>
      <div class="controls">
        <select id="bulkFrom" aria-label="開始月">
          <option value="1">1月</option><option value="2">2月</option><option value="3">3月</option>
          <option value="4">4月</option><option value="5">5月</option><option value="6">6月</option>
          <option value="7">7月</option><option value="8">8月</option><option value="9">9月</option>
          <option value="10">10月</option><option value="11">11月</option><option value="12">12月</option>
        </select>
        <span style="color:var(--muted); font-size:13px;">〜</span>
        <select id="bulkTo" aria-label="終了月">
          <option value="1">1月</option><option value="2">2月</option><option value="3">3月</option>
          <option value="4">4月</option><option value="5">5月</option><option value="6">6月</option>
          <option value="7">7月</option><option value="8">8月</option><option value="9">9月</option>
          <option value="10">10月</option><option value="11">11月</option><option value="12">12月</option>
        </select>
        <button class="btn" id="bulkExportBtn" type="button">一括書き出し</button>
      </div>
    </div>

    <div class="row">
      <div class="rowLabel">データ読み込み（ある月のみ上書き）</div>
      <div class="controls">
        <input type="file" id="bulkImportFile" accept="application/json,.json" />
        <button class="btn" id="bulkImportBtn" type="button">一括読み込み</button>
      </div>
    </div>

    <div class="divider"></div>

    <div class="majorTitle">▼データリセット</div>

    <div class="row">
      <div class="rowLabel">全データリセット</div>
      <div class="controls">
        <button class="btn danger" id="resetAllBtn" type="button">全月データ削除</button>
        <button class="btn danger" id="resetAppBtn" type="button">アプリを初期化</button>
      </div>
    </div>

    <div class="minorNote">
      ※全データリセットは、2026年の全月データが削除される。
    </div>
  </section>

  <!-- ストア -->
  <section class="store" id="store">
    <div class="storeHead">
      <div class="storeTitle">テーマストア</div>
      <div class="storeSub">UIテーマ・スタンプテーマの購入</div>
    </div>
    <div class="storeStatus" id="storeStatus">読み込み中...</div>
    <div class="themeGrid storeGrid" id="storeGrid"></div>
  </section>
</main>

<!-- 色選択ポップアップ（5色） -->
<div class="picker" id="picker" role="dialog" aria-label="スタンプを選ぶ">
  <div class="pickerTitle"><span class="miniDot"></span> 今日の気分は？</div>
  <div class="pickerRow">
    <button class="pick pink" data-stamp="mood_1" type="button" aria-label="Mood 1"></button>
    <button class="pick orange" data-stamp="mood_2" type="button" aria-label="Mood 2"></button>
    <button class="pick yellow" data-stamp="mood_3" type="button" aria-label="Mood 3"></button>
    <button class="pick green" data-stamp="mood_4" type="button" aria-label="Mood 4"></button>
    <button class="pick blue" data-stamp="mood_5" type="button" aria-label="Mood 5"></button>
  </div>
</div>
<div class="caret" id="caret"></div>

<!-- メニュー -->
<div class="menuOverlay" id="menuOverlay"></div>
<div class="menuSheet" id="menuSheet" role="dialog" aria-label="メニュー">
  <button class="menuItem" id="menuCalendar" type="button">
    <span>カレンダー</span><span class="badge">単日日記</span>
  </button>
  <button class="menuItem" id="menuList" type="button">
    <span>日記一覧</span><span class="badge">1〜月末</span>
  </button>
  <button class="menuItem" id="menuData" type="button">
    <span>データ管理</span><span class="badge">書き出し/読込</span>
  </button>
  <button class="menuItem" id="menuStore" type="button">
    <span>ストア</span><span class="badge">テーマ販売</span>
  </button>
</div>

<!-- デザインテーマ選択 -->
<div class="themeOverlay" id="themeOverlay"></div>
<div class="themePanel" id="themePanel" role="dialog" aria-label="デザインテーマ選択">
  <div class="themeHead">
    <div>
      <div class="themeTitle">デザインテーマ選択</div>
      <div class="themeSub">UIデザインを選んで「適用」で反映</div>
    </div>
    <button class="iconBtn" id="closeThemePicker" type="button" aria-label="閉じる">×</button>
  </div>
  <div class="themeGrid" id="themeGrid"></div>
  <div class="themeFooter">
    <button class="btn" id="applyThemeBtn" type="button">適用</button>
  </div>
</div>

  <script src="./js/storage.js" defer></script>
  <script src="./js/app.js" defer></script>

</body>
</html>



